<!DOCTYPE HTML>
<html>
  <head>
    <title>Изучаем JS</title>
        <!-- Подключение JS фаила -->
    <script type="text/javascript" href="fail.js">
    //Таймеры setInterval
     /* var id = setInterval("myFanct_1()", 500);
         var counter = 0;
          function myFanct_1(){
            counter++
            alert("Секунд прошло -" + counter);
            if (counter == 3) clearInterval(id);
          } */

       //Таймеры setTimeout
         var counter = 0
         function timer() {
           counter++;
           document.getElementById("count").innerHTML = counter;
           setTimeout("timer()", 1000)
         }

         //обработка кнопки
      function buttonClick(button) {
        alert("Вы нажали на кнопку. Кнопка имеет имя  " + button.name + ", так же value равно " + button.value + ".");
      }

         //подсчёт кол-ва наведений курсора мыши на текст
         var counter = 0;
       function OnMouseCounter(element) {
         counter++;
         element.innerHTML = "На этот текст мы навели | " + counter + " | раз";
       }

        //Валидации для формы
       function valid (form) {
            var fail = false;
            var name = form.name.value;
            var email =form.email.value;
            var password = form.password.value;
            var RePassword = form.RePassword.value;
            var state = form.state.value;
            //регулярное выражение для проверки email
            var adr_pattern = /[0-9 a-z_-]+@[0-9 a-z_-]+\.[a-z]{2,5}/;

            if (name == "" || name == " ")
            fail = "Вы не ввели свое имя";
            else if (adr_pattern.test(email) == false)
             fail = "Вы ввели свой email неправильно";
            else if (password == "")
             fail = "Вы не ввели пароль";
            else if (password ==! RePassword)
             fail = "Пароли не совпадают";
            else if (state == "")
             fail = "Укажите пол";
            if (fail)
              alert(fail);
            else
            //перенаправляем пользователя на другую страничку
              window.location = "http://google.com";
           }

    </script>
        <!-- Тег meta для указания кодировки -->
            <meta charset="utf-8">
  </head>

      <body onload="timer()">
         <h3>Таймеры</h3>
         До взрыва осталось 60 секунд <span id = "count">-1</span>
         
            <h3>События и обработка событий</h3>
             <!--Создание кнопки -->
           <input type="button" name="b" value="ClickMe" onclick="buttonClick (this)"/>
             <!-- Активный текст -->
           <span onmouseover="OnMouseCounter (this)"> На это текст было наведено 0 раз </span>
             <br>
             <br>
             <h3>Создание формы регистрации с валидацией</h3>
             <!-- Создание формы регистрации (Обработка форм)-->
             <form action="" method="post" name="test" id="form">
               <label for="name">Имя:</label>
               <input type="text" name="name" placeholder="Имя" id="name" /> <br/><br/>

               <label for="email">Email:</label>
               <input type="text" name="email" placeholder="email" id="email" /> <br/><br/>

               <label for="password">Пароль:</label>
               <input type="password" name="password" placeholder="Пароль" id="password" /> <br/><br/>

               <label for="RePassword">Проверка пароля:</label>
               <input type="password" name="RePassword" placeholder="Введите пароль" id="RePassword"/> <br/><br/>

               <span>Укажите пол (ваш)</span>
               <input type="radio" name="state" id="state1" value="Мужской"/>
               <label for="state1">Женский</label>

               <input type="radio" name="state" id="state2" value="Женский"/>
               <label for="state2">Мужской</label>
               <br/><br/>

               <input type="button" onclick="valid(document.getElementById('form'))" name="submit" value="Готово"/>
             </form>

          <script>

          // типы данных
         document.write("<h3>Отработка примитивных типов данных</h3>")
              var namb = 20;
              var str  = "Vasy"
              var float = 2.25
              var isTrue = true
             //комбинируем переменные
              document.write("Вывод числа "+ namb + "<br> " + str +" "+ float + "<br>" +isTrue);

            // мат. операции
            document.write("<br>");
            document.write("<h3>Отработка  result = x + y;</h3>")
              var x = 5;
              var y = 5;
              var result;
              result = x + y;
              document.write("<br>" + result);
              document.write("<br>");
              document.write("<h3>Мат. операции</h3>")
              document.write(x + "+" + y + "=" + (x + y) + ",  Резульрат мат. операций");

              //Условные операторы
              // опрератор if else
              document.write("<br>" );
              document.write("<h3>Оператор if else</h3>");
              var x = 5;
              var y = 6;
                 if (x > y)
                   document.write("x > y");
                  else
                   document.write("x < y" + "  ,Выполняется условие else, потому что логически оно верно");

             //switch case
                    document.write("<br>");
                    document.write("<h3>Оператор switch</h3>");
              var result = 5;
                 switch (result) {
                   case 1: document.write("result = 1"); break;
                   case 2: document.write("result = 2"); break;
                   case 3: document.write("result = 3"); break;
                   case 4: document.write("result = 4"); break;
                   default: document.write("result > 4" + ",  Отрабатывает default потому что он завершающий");

              //Оператор иначе
                  document.write("<h3>Оператор иначе</h3>");
                  document.write("<br>");
                x > y ? document.write("Yes") : document.write("NO" + ",  Потому что x меньше y");
                 }

              //Цикл for
              document.write("<h3>Цикл for</h3>");
              document.write("<br>");
              for (var i = 0; i < 10; i++) {
                if (i % 3 == 0 && i != 0) continue;
                if (i == 8) break;
                document.write(i + ":  Vasy привет <br />")
              }

              //Цикл while
              document.write("<h3>Цикл while</h3>");
              document.write("<br>");
              var x = 0;
              while (x < 10 ) {
                document.write(x + "<br />");
              x += 2;
            }

             //  Цикл do while
              document.write("<br>");
              document.write("<h3>Цикл do while</h3>");
              var y =1000;
              do {
                document.write("Цикл сработал")
              } while (y < 100);

            // метод alert (просто всплывающее окно)
            document.write("<br>");
            document.write("<h3>Методы alert, confirm, prompt (всплываущие окна)</h3>");
                  //    var person = "Oleg"
                  //  alert("Hello, " + person);
            // метод confirm (спрашивающие окно)
            //          if (confirm("Are you sure?")) {
            //             person = prompt("Hi, what's your name?");
              //           alert("Hello, " + person);
                //    } else
                  //        alert("person not sure")

             //Массивы
             document.write("<br>");
             document.write("<h3>Массивы</h3>");
             var arr = new Array("str", 1.23, 7, false, "Oleg");
             for(var a = 0; a < arr.length; a++)
             document.write(arr[a] + "<br>");

             document.write("<p>Новый пример</p>");
             document.write("<br>");
              arr = new Array();
              for (i = 0; i < 10; i++)  {
                arr[i] = i * 3;
                document.write(arr[i] + "<br>")
              }

              document.write("<p>Находим сумму массива</p>");
              document.write("<br>");
              var summ = 0;
              for (i =0; i < arr.length; i++)
              summ += arr[i];
              document.write("Сумма равна - " + summ);

              document.write("<p>Находим среднее арифметическое массива</p>");
              document.write("<br>");
              document.write("Среднее арифметическое значение - " + (summ / arr.length));

              // Двумерный массив
              document.write("<h3>Создаём двумерный массив</h3>");
              document.write("<br>");
              var arr_1 = new Array();
              var arr_2 = new Array();
              var arr_3 = new Array();
              for (var i = 0; i < 5; i++) arr_1[i] = i;
              for (var i = 0; i < 10; i++) arr_2[i] = i;
              for (var i = 0; i < 15; i++) arr_3[i] = i;

              var arr = new Array(arr_1, arr_2, arr_3);

                 for (var x = 0; x < arr.length; x++)    {
                 for (var j = 0; j < arr[x].length; j++)
                        document.write(arr[x][j] + " ");
                        document.write("<br />");
                     }

                     // Функции
                     document.write("<h3>Функции</h3>");
                     document.write("<br>");
                     var summ;
                     function print(text) {
                         document.write(text);
                     }

                     function count(x, y) {
                       summ = x + y;
                     }
                     //вызываем Функции
                     print("Hello");
                     count(5,10);
                     print("<br>");
                     print(summ);

          //Глобальные и локальные переменные
          document.write("<h3>Глобальные и локальные переменные</h3>");
          document.write("<br>");
                    var glob = 12;
                    var i =    5;
                    function test() {
                      glob++;
                      var i = 15;
                    }
                    test();
                    document.write("Clobal - " + glob + ",  variable i -" + i);
          </script>

          <p>...Конец документа</p>
      </body>
</html>
